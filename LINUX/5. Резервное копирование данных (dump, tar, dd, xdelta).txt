dump

Итак, для создания резервной копии утилитой dump нужно дать следующую команду:

sudo dump -0u -f /dev/sdd1 /home

Здесь с ключом -u задаётся нулевой уровень архива (0), 
а ключом -f – устройство /dev/sdd1 для сохранения резервной копии 
файловой системы /home. Удалённый носитель (во втором примере ленточный 
носитель nst0) задаётся в формате имя_компьютера:устройство.

Чтобы восстановить отдельные файлы из резервных копий, следует воспользоваться командой restore


tar

Для начала создайте точки монтирования для корневого раздела и для раздела, на котором вы собираетесь создавать бэкап, например так

sudo mkdir /mnt/{root,backup}
Смонтируйте оба раздела. Для большей надежности можно смонтировать корневой раздел в режиме read-only (только для чтения), чтобы исключить вероятность случайного изменения данных

sudo mount /dev/sdXY /mnt/root -o ro
sudo mount /dev/sdXY /mnt/backup

Теперь можно приступить к созданию архива. Чтобы создать архив с gzip-сжатием, выполните

sudo tar -cvzpf -C /mnt/root /mnt/backup/ubuntu-sda1.tar.gz

По завершении процесса отмонтируйте все смонтированные разделы

sudo umount /mnt/root{/boot,/var,/home,} /mnt/backup

Восстановление:

sudo tar --same-owner -xvpf /mnt/backup/ubuntu-2010-10-07.tar.bz2 -C /mnt/root/

dd

Создание образа

Создайте точки монтирования для корневого и бэкап-разделов

sudo mkdir /mnt/{root,backup}

Смонтируем раздел для бэкапа

sudo mount /dev/sdXY /mnt/root

Монтируем тот раздел, куда будем сохранять бэкап

sudo mount /dev/sdXY /mnt/backup

Выполняем операцию, по созданию бэкапа

sudo dd if=/dev/sdXY bs=1M conv=noerror | gzip -c > /mnt/backup/root.dd.gz

По завершении процесса отмонтируйте бэкап-раздел

sudo umount /mnt/backup

Восстановление раздела из образа

Смонтируйте раздел с образом-бэкапом

sudo mount /dev/sdXY /mnt

Собственно, можно приступать (дополнительных манипуляций вроде форматирования раздела в данном случае не требуется)

gzip -dc /mnt/root.dd.gz | sudo dd of=/dev/sdXY bs=1M conv=noerror
